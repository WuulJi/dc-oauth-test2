<!-- Generated by SpecStory -->

# Git Branch Rename Command Explained (2025-05-05 09:09:57)

_**User**_

git branch -M main 是什麼意思?

---

_**Assistant**_

`git branch -M main` 這個指令的意思是：

- **將目前所在的分支（branch）重新命名為 `main`**，而且如果已經有一個叫 `main` 的分支，會強制覆蓋（M = move, force）。

### 詳細說明

- `git branch`：管理分支的指令
- `-M`：等同於 `--move --force`，意思是「強制重新命名分支」
- `main`：新的分支名稱

### 常見用途

- 很多舊的 Git 專案預設分支名稱是 `master`，但現在新專案多用 `main` 作為預設分支名稱。
- 如果你想把 `master` 改成 `main`，可以這樣做：

```bash
git branch -M main
```

這樣你本地的分支就會從 `master` 變成 `main`。

### 注意事項

- 如果本地已經有一個 `main` 分支，這個指令會強制覆蓋它。
- 這只會影響本地分支名稱，推送到遠端（GitHub 等）還需要用：
  ```bash
  git push -u origin main
  ```
  並且可能要刪除遠端的 `master` 分支。

---

**總結**：  
`git branch -M main` 就是「把目前分支強制改名為 main」。

---

_**User**_

我想為這個專案寫一個 readme，要怎麼寫比較好?

---

_**Assistant**_

寫一個好的 README 可以讓其他人快速了解你的專案、如何安裝、使用、貢獻與聯絡你。  
以下是常見的 README 結構與範例內容，特別針對你的「Firebase + Discord OAuth2 登入」專案：

---

# discord-oauth-test

## 專案簡介
這是一個使用 Firebase Cloud Functions 與 Discord OAuth2 實現 Discord 登入的範例專案。  
用戶可以透過 Discord 帳號登入，並將用戶資訊與所屬伺服器（guilds）同步到 Firebase Firestore。

## 功能特色
- Discord OAuth2 登入（支援 identify、guilds 權限）
- 使用 Firebase Authentication 進行用戶管理
- 用戶資訊與伺服器列表自動儲存到 Firestore
- 前端顯示 Discord 頭像、名稱、標籤與伺服器列表

## 技術棧
- Firebase Hosting
- Firebase Cloud Functions
- Firebase Firestore
- Discord OAuth2
- Node.js

## 安裝與部署

### 1. 前置作業
- 申請 [Discord Developer Portal](https://discord.com/developers/applications) 應用，取得 Client ID、Client Secret
- 在 Discord 應用設定 OAuth2 Redirect URI，填入：  
  `https://<your-firebase-project>.web.app/auth/callback`

### 2. Firebase 專案初始化
```bash
firebase login
firebase init
```
選擇 Hosting、Functions、Firestore

### 3. 設定環境變數
```bash
firebase functions:config:set discord.client_id="你的ClientID" discord.client_secret="你的ClientSecret"
```

### 4. 安裝依賴
```bash
cd functions
npm install
```

### 5. 部署
```bash
firebase deploy
```

## 使用方式

1. 使用者進入首頁，點擊「Login with Discord」
2. 跳轉到 Discord 授權頁面，授權後自動回到網站
3. 首次登入會自動在 Firestore 建立用戶資料與伺服器列表
4. 前端會顯示用戶頭像、名稱、標籤與伺服器列表

## 目錄結構
```
/
├── public/                # 前端靜態檔案
│   └── index.html
├── functions/             # Cloud Functions 原始碼
│   └── index.js
├── .firebaserc
├── firebase.json
└── ...
```

## 常見問題
- **Q:** 為什麼登入後沒有顯示伺服器列表？  
  **A:** 請確認 Discord OAuth2 scope 包含 `guilds`，且 Cloud Function 有正確存取權限。

- **Q:** 如何更換 Firebase 專案？  
  **A:** 使用 `firebase use --add` 重新綁定專案。

## 參考資源
- [Firebase 官方文件](https://firebase.google.com/docs)
- [Discord OAuth2 文件](https://discord.com/developers/docs/topics/oauth2)
- [firebase-discord-oauth2-example](https://github.com/luizkc/firebase-discord-oauth2-example)

## 聯絡方式
如有問題歡迎開 issue 或聯絡 [你的Email或Discord帳號]

---

### 小技巧
- 可以加上專案截圖或 GIF 展示效果
- 若有多語系需求，可加上英文版
- 若有 License，記得加上

---

如果你需要根據你的實際程式碼自動產生一份 README 範本，請告訴我！  
或者你可以把上面內容複製到 `README.md`，再根據你的專案細節微調。

---

_**User**_

幫我產生一個readme

---

_**Assistant**_

當然可以！以下是一份針對你這個「Firebase + Discord OAuth2 登入」專案的 README 範本，你可以直接複製到 `README.md`，再根據實際情況微調。

---

# Discord OAuth2 + Firebase Example

## 專案簡介
這是一個結合 Firebase Cloud Functions 與 Discord OAuth2 的登入範例。  
用戶可透過 Discord 帳號登入，並將用戶資訊與所屬伺服器（guilds）同步到 Firebase Firestore。

## 功能特色
- Discord OAuth2 登入（支援 identify、guilds 權限）
- Firebase Authentication 用戶管理
- Firestore 儲存用戶資訊與伺服器列表
- 前端顯示 Discord 頭像、名稱、標籤與伺服器列表

## 技術棧
- Firebase Hosting
- Firebase Cloud Functions
- Firebase Firestore
- Discord OAuth2
- Node.js

## 安裝與部署

### 1. 前置作業
- 申請 [Discord Developer Portal](https://discord.com/developers/applications) 應用，取得 Client ID、Client Secret
- 在 Discord 應用設定 OAuth2 Redirect URI，填入：  
  `https://<your-firebase-project>.web.app/auth/callback`

### 2. Firebase 專案初始化
```bash
firebase login
firebase init
```
選擇 Hosting、Functions、Firestore

### 3. 設定 Discord 環境變數
```bash
firebase functions:config:set discord.client_id="你的ClientID" discord.client_secret="你的ClientSecret"
```

### 4. 安裝依賴
```bash
cd functions
npm install
```

### 5. 部署
```bash
firebase deploy
```

## 使用方式

1. 使用者進入首頁，點擊「Login with Discord」
2. 跳轉到 Discord 授權頁面，授權後自動回到網站
3. 首次登入會自動在 Firestore 建立用戶資料與伺服器列表
4. 前端會顯示用戶頭像、名稱、標籤與伺服器列表

## 目錄結構
```
/
├── public/                # 前端靜態檔案
│   └── index.html
├── functions/             # Cloud Functions 原始碼
│   └── index.js
├── .firebaserc
├── firebase.json
└── ...
```

## 常見問題
- **Q:** 登入後沒有顯示伺服器列表？
  - **A:** 請確認 Discord OAuth2 scope 包含 `guilds`，且 Cloud Function 有正確存取權限。
- **Q:** 如何更換 Firebase 專案？
  - **A:** 使用 `firebase use --add` 重新綁定專案。

## 參考資源
- [Firebase 官方文件](https://firebase.google.com/docs)
- [Discord OAuth2 文件](https://discord.com/developers/docs/topics/oauth2)
- [firebase-discord-oauth2-example](https://github.com/luizkc/firebase-discord-oauth2-example)

## 聯絡方式
如有問題歡迎開 issue 或聯絡 [你的Email或Discord帳號]

---

如果你有專案截圖、GIF 或想加上 License，可以再補充在這份 README 裡！

---

_**User**_

依上述內容產生readme

---

_**Assistant**_

我會幫你建立一個 README.md 檔案。首先讓我檢查一下專案的結構。


---

<details>
            <summary>Listed current directory • **17** results</summary>
        
| Name |
|-------|
| 📁 `.git` |
| 📄 `dc-oauth-test-part2.md` |
| 📄 `.gitignore` |
| 📁 `functions` |
| 📁 `public` |
| 📁 `.firebase` |
| 📄 `package-lock.json` |
| 📄 `package.json` |
| 📁 `node_modules` |
| 📄 `firebase.json` |
| 📄 `dc-oauth-test.md` |
| 📄 `.firebaserc` |
| 📁 `.github` |
| 📄 `firestore.indexes.json` |
| 📄 `firestore.rules` |
| 📄 `.cursorindexingignore` |
| 📁 `.specstory` |

</details>

---

現在我會幫你建立一個 README.md 檔案，內容會根據你的專案結構和功能來撰寫。


---

```diff
- 
+ # Discord OAuth2 + Firebase Example
+ 
+ ## 專案簡介
+ 這是一個結合 Firebase Cloud Functions 與 Discord OAuth2 的登入範例。  
+ 用戶可透過 Discord 帳號登入，並將用戶資訊與所屬伺服器（guilds）同步到 Firebase Firestore。
+ 
+ ## 功能特色
+ - Discord OAuth2 登入（支援 identify、guilds 權限）
+ - Firebase Authentication 用戶管理
+ - Firestore 儲存用戶資訊與伺服器列表
+ - 前端顯示 Discord 頭像、名稱、標籤與伺服器列表
+ 
+ ## 技術棧
+ - Firebase Hosting
+ - Firebase Cloud Functions
+ - Firebase Firestore
+ - Discord OAuth2
+ - Node.js
+ 
+ ## 安裝與部署
+ 
+ ### 1. 前置作業
+ - 申請 [Discord Developer Portal](https://discord.com/developers/applications) 應用，取得 Client ID、Client Secret
+ - 在 Discord 應用設定 OAuth2 Redirect URI，填入：  
+   `https://<your-firebase-project>.web.app/auth/callback`
+ 
+ ### 2. Firebase 專案初始化
+ ```bash
+ firebase login
+ firebase init
+ ```
+ 選擇 Hosting、Functions、Firestore
+ 
+ ### 3. 設定 Discord 環境變數
+ ```bash
+ firebase functions:config:set discord.client_id="你的ClientID" discord.client_secret="你的ClientSecret"
+ ```
+ 
+ ### 4. 安裝依賴
+ ```bash
+ cd functions
+ npm install
+ ```
+ 
+ ### 5. 部署
+ ```bash
+ firebase deploy
+ ```
+ 
+ ## 使用方式
+ 
+ 1. 使用者進入首頁，點擊「Login with Discord」
+ 2. 跳轉到 Discord 授權頁面，授權後自動回到網站
+ 3. 首次登入會自動在 Firestore 建立用戶資料與伺服器列表
+ 4. 前端會顯示用戶頭像、名稱、標籤與伺服器列表
+ 
+ ## 目錄結構
+ ```
+ /
+ ├── public/                # 前端靜態檔案
+ │   └── index.html
+ ├── functions/             # Cloud Functions 原始碼
+ │   └── index.js
+ ├── .firebaserc            # Firebase 專案設定
+ ├── firebase.json          # Firebase 部署設定
+ ├── firestore.rules        # Firestore 安全規則
+ ├── firestore.indexes.json # Firestore 索引設定
+ └── package.json           # 專案依賴
+ ```
+ 
+ ## 常見問題
+ - **Q:** 登入後沒有顯示伺服器列表？
+   - **A:** 請確認 Discord OAuth2 scope 包含 `guilds`，且 Cloud Function 有正確存取權限。
+ - **Q:** 如何更換 Firebase 專案？
+   - **A:** 使用 `firebase use --add` 重新綁定專案。
+ 
+ ## 參考資源
+ - [Firebase 官方文件](https://firebase.google.com/docs)
+ - [Discord OAuth2 文件](https://discord.com/developers/docs/topics/oauth2)
+ - [firebase-discord-oauth2-example](https://github.com/luizkc/firebase-discord-oauth2-example)
+ 
+ ## 聯絡方式
+ 如有問題歡迎開 issue 或聯絡 [你的Email或Discord帳號] 
```

---

我已經幫你建立了一個完整的 README.md 檔案。這個 README 包含了：

1. 專案簡介
2. 功能特色
3. 使用的技術棧
4. 詳細的安裝與部署步驟
5. 使用方式說明
6. 專案目錄結構
7. 常見問題解答
8. 參考資源
9. 聯絡方式

你可以根據實際需求修改以下部分：
- 在「聯絡方式」部分填入你的聯絡資訊
- 如果需要，可以添加專案截圖或 GIF
- 如果需要，可以添加 License 資訊
- 如果有其他特殊需求或功能，可以相應地更新內容

需要我幫你修改任何部分嗎？

---

